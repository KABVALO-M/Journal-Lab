{% extends 'core/base.html' %}
{% load static %}
{% load tailwind_tags %}

{% block title %}JournoLab - Journalist Profiles{% endblock %}

{% block content %}
    <!-- Search Input Field -->
    <div class="p-4">
        <input 
            type="text" 
            placeholder="Search journalist profiles..." 
            class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
        />
    </div>

    <!-- Profiles Content -->
    <div class="content h-[67vh] overflow-y-auto p-5">
        <h2 class="text-3xl font-bold text-white mb-4">Journalist Profiles</h2>
        
        <!-- Grid Layout for Profiles -->
        <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4">
            {% for profile in journalist_profiles %}
                <div id="profile-card-{{ profile.id }}" 
                     class="bg-blue-100 rounded-lg shadow-md px-4 py-8 hover:bg-opacity-100 transition duration-200 cursor-pointer" 
                     onclick="window.location.href='{% url 'core:journalist_detail' profile.id %}'">
                    <div class="flex flex-col items-center">
                        {% if profile.profile_picture %}
                            <img src="{{ profile.profile_picture.url }}" alt="{{ profile.first_name }} {{ profile.last_name }}'s profile picture" class="h-32 w-32 rounded-full mb-2">
                        {% else %}
                            <img src="{% static 'default_profile.png' %}" alt="Default profile picture" class="h-20 w-20 rounded-full mb-2">
                        {% endif %}
                        <h2 class="text-xl font-semibold text-black text-center">{{ profile.user.first_name }} {{ profile.user.last_name }}</h2>
                        <p class="text-gray-700 text-center mt-1">
                            {{ profile.bio|truncatechars:100|default:"No bio available." }}
                        </p>

                        <!-- Phone Number -->
                        <p class="text-gray-700 mt-2">{{ profile.contact_number|default:"No phone number available." }}</p>

                        <!-- Social Media Icons -->
                        <div class="flex space-x-4 mt-4">
                            {% if profile.twitter %}
                                <a href="{{ profile.twitter }}" target="_blank" class="text-blue-400 hover:text-blue-500">
                                    <i class="fa-brands fa-twitter"></i> <!-- Font Awesome Twitter Icon -->
                                </a>
                            {% endif %}
                            {% if profile.linkedin %}
                                <a href="{{ profile.linkedin }}" target="_blank" class="text-blue-700 hover:text-blue-800">
                                    <i class="fa-brands fa-linkedin-in"></i> <!-- Font Awesome LinkedIn Icon -->
                                </a>
                            {% endif %}
                            {% if profile.facebook %}
                                <a href="{{ profile.facebook }}" target="_blank" class="text-blue-600 hover:text-blue-700">
                                    <i class="fa-brands fa-facebook-f"></i> <!-- Font Awesome Facebook Icon -->
                                </a>
                            {% endif %}
                            {% if profile.instagram %}
                                <a href="{{ profile.instagram }}" target="_blank" class="text-pink-500 hover:text-pink-600">
                                    <i class="fa-brands fa-instagram"></i> <!-- Font Awesome Instagram Icon -->
                                </a>
                            {% endif %}
                        </div>

                    </div>
                </div>
            {% empty %}
                <p class="col-span-full text-center text-white">No journalist profiles found.</p>
            {% endfor %}
        </div>
        
    </div>
{% endblock %}
